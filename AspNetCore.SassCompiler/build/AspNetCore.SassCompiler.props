<Project>

    <ItemGroup Condition="'$(NuGetProjectStyle)' == 'PackageReference' AND $([MSBuild]::IsOSPlatform('Windows'))">
        <Content Include="$(MSBuildThisFileDirectory)..\runtimes\win-x64\*">
            <Link>runtimes\win-x64\%(Filename)%(Extension)</Link>
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
            <Visible>false</Visible>
        </Content>
        <Content Include="$(MSBuildThisFileDirectory)..\runtimes\win-x64\src\*">
            <Link>runtimes\win-x64\src\%(Filename)%(Extension)</Link>
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
            <Visible>false</Visible>
        </Content>
    </ItemGroup>
    <ItemGroup Condition="'$(NuGetProjectStyle)' == 'PackageReference' AND $([MSBuild]::IsOSPlatform('Linux'))">
        <Content Include="$(MSBuildThisFileDirectory)..\runtimes\linux-x64\*">
            <Link>runtimes\win-x64\%(Filename)%(Extension)</Link>
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
            <Visible>false</Visible>
        </Content>
        <Content Include="$(MSBuildThisFileDirectory)..\runtimes\linux-x64\src\*">
            <Link>runtimes\win-x64\src\%(Filename)%(Extension)</Link>
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
            <Visible>false</Visible>
        </Content>
    </ItemGroup>
    <ItemGroup Condition="'$(NuGetProjectStyle)' == 'PackageReference' AND $([MSBuild]::IsOSPlatform('OSX'))">
        <Content Include="$(MSBuildThisFileDirectory)..\runtimes\osx-x64\*">
            <Link>runtimes\osx-x64\%(Filename)%(Extension)</Link>
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
            <Visible>false</Visible>
        </Content>
        <Content Include="$(MSBuildThisFileDirectory)..\runtimes\osx-x64\src\*">
            <Link>runtimes\osx-x64\src\%(Filename)%(Extension)</Link>
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
            <Visible>false</Visible>
        </Content>
    </ItemGroup>
    
    <PropertyGroup>
        <SassCompilerBuildCommand Condition="$([MSBuild]::IsOSPlatform('Windows'))">$(MSBuildThisFileDirectory)..\runtimes\win-x64\sass.bat</SassCompilerBuildCommand>
        <SassCompilerBuildCommand Condition="$([MSBuild]::IsOSPlatform('Linux'))">$(MSBuildThisFileDirectory)..\runtimes\linux-x64\sass</SassCompilerBuildCommand>
        <SassCompilerBuildCommand Condition="$([MSBuild]::IsOSPlatform('OSX'))">$(MSBuildThisFileDirectory)..\runtimes\osx-x64\sass</SassCompilerBuildCommand>

        <SassCompilerDotNetJsonDll>$(MSBuildThisFileDirectory)..\runtimes\dotnet-json.dll</SassCompilerDotNetJsonDll>

        <SassCompilerAppsettingsJson Condition="'$(SassAppsettingsFile)' == ''">$(ProjectDir)appsettings.json</SassCompilerAppsettingsJson>

        <SassCompilerSourceFolder Condition="'$(SassCompilerSourceFolder)' == ''">Styles</SassCompilerSourceFolder>
        <SassCompilerTargetFolder Condition="'$(SassCompilerTargetFolder)' == ''">wwwroot\css</SassCompilerTargetFolder>
        <SassCompilerArguments Condition="'$(SassCompilerArguments)' == ''">--style=compressed</SassCompilerArguments>
    </PropertyGroup>

    <ItemGroup>
        <AssemblyAttribute Include="AspNetCore.SassCompiler.SassCompilerAttribute">
            <_Parameter1>$(SassCompilerBuildCommand)</_Parameter1>
        </AssemblyAttribute>
    </ItemGroup>

</Project>
